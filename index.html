<script>
    // Buraya Playit.gg'den aldığın IP adresini yazacaksın
    const myServerIP = "127.0.0.1:25565"; 
    
    async function checkServerStatus() {
        const statusBadge = document.getElementById('status-badge');
        
        try {
            // Minecraft sunucusuna ping atıyoruz (API kullanarak)
            const response = await fetch(`https://api.mcsrvstat.us/2/${myServerIP}`);
            const data = await response.json();

            if (data.online) {
                statusBadge.className = "status-badge online";
                statusBadge.innerText = "ÇEVRİMİÇİ";
                statusBadge.style.backgroundColor = "#43b581";
                // Oyuncu sayısını da güncelleyelim
                document.getElementById('player-count').innerText = `${data.players.online}/${data.players.max}`;
            } else {
                throw new Error("Kapalı");
            }
        } catch (error) {
            statusBadge.className = "status-badge offline";
            statusBadge.innerText = "ÇEVRİMDIŞI (PC KAPALI)";
            statusBadge.style.backgroundColor = "#f04747";
        }
    }

    // Her 10 saniyede bir kontrol et
    setInterval(checkServerStatus, 10000);
    // Sayfa açılınca hemen kontrol et
    checkServerStatus();
</script>
